<div ng-controller="OrderController" ng-init="find()">
    <br>
    <table st-table="displayedCollection" st-safe-src="orders" class="table table-striped">
        <thead>
            <tr class="teal lighten-4">
                <th st-sort="orderId">订单号</th>
                <th st-sort="createDay" st-sort-default="reverse">下单时间</th>
                <th st-sort="houseName">营地</th>
                <th st-sort="checkInDay">入住日期</th>
                <th>退房</th>
                <th st-sort="status">总价</th>
                <th st-sort="wechatNickName">昵称</th>
                <th st-sort="status">状态</th>
            </tr>
            <tr>
                <th>
                    <input st-search="orderId" placeholder="按订单号查询" class="input-sm form-control" type="search" />
                </th>
                <th>
                    <input id="orderSearch" st-search placeholder="全局搜索" ng-model="search" class="input-sm form-control" type="search" />
                </th>
                <th colspan="1">&nbsp;</th>
                <th>
                   <a class="btn-floating btn waves-effect waves-light" ng-href="/#/orders/create"><i class="mdi-content-add"></i></a>
                </th>
                <th colspan="1">&nbsp;</th>
                <th colspan="1"><button class="btn waves-effect waves-light red" ng-click="notPay()" name="action">未支付订单</button></th>
                <th colspan="1"><button class="btn waves-effect waves-light" ng-click="all()" name="action">全部订单</button></th>
            </tr>
        </thead>
        <tbody>
            <tr st-select-row="row" ng-repeat="order in displayedCollection" ng-class="{'red lighten-4': highlight(order)}">
                <td>
                    <a data-ng-href="#/orders/{{order.orderId}}" ng-class="{'readonly': order.status === '订单取消'}"> 
                        <i class="mdi-editor-mode-edit" ng-show="order.status != '订单取消'"></i> {{order.orderId}} </a>
                </td>
                <td>{{order.createDay}}</td>
                <td>{{order.houseName}}</td>
                <td>{{order.checkInDay}}</td>
                <td>{{order.checkOutDay}}</td>
                <td>{{order.totalPrice}}</td>
                <td>{{order.wechatNickName}}</td>
                <td>{{order.status}}</td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td colspan="1">
                    <label for="items">每页显示纪录数</label>
                    <input placeholder="每页显示纪录数" class="input-sm form-control ng-valid ng-dirty ng-valid-number ng-touched" name="items" id="items" type="number" ng-model="itemsByPage">
                </td>
                <td colspan="5">
                    <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="10"></div>
                </td>
            </tr>
        </tfoot>
    </table>
</div>